{# templates/pages/host/index.html.twig #}
{% extends 'layouts/crud_layout.html.twig' %}
{% import 'components/page_header.html.twig' as page_header %}
{% import 'components/table.html.twig' as table %}

{% set page_title = 'host.title.index' %}
{% block title %}{{ page_title|trans }} - {{ parent() }}{% endblock %}

{% block page_header %}
    {{ page_header.default(
        title=page_title,
        button_label='host.button.create_new',
        button_path=path('app_host_new')
    ) }}
{% endblock %}

{% block content %}
    {{ component('table', {
        items: hosts,
        headers: [
            'host.label.name',
            'host.label.hostname',
            'host.label.port',
            'host.label.username',
            'host.label.categories',
            'host.label.connection_status',
        ],
        item_properties: [
            'name',
            'hostname',
            'port',
            'username',
            'categories',
            'connectionStatus',
        ],
        column_configs: {
            'categories': {
                'component': 'category_badge'
            },
            'connectionStatus': {
                'component': 'connection_status_badge'
            }
        },
        show_actions_column: is_granted('ROLE_ADMIN'),
        delete_path_route: 'app_host_delete',
        edit_path_route: 'app_host_edit',
        delete_confirm_trans_key: 'host.alert.delete_confirm',
        entity_name_property_for_confirm: 'name',
        csrf_token_prefix: 'delete',
        entity_id_property: 'id',
        no_items_message_key: 'host.alert.no_hosts_found'
    }) }}
{% endblock %}
